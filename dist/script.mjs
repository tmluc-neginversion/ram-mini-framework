async function e({name:e,css:t,js:n}){if(t&&!document.querySelector(`link[href*="${t}"]`)){const e=document.createElement("link");e.rel="stylesheet",e.href=t,document.head.appendChild(e)}return n&&!document.querySelector(`script[src*="${n}"]`)&&await new Promise((t,o)=>{const r=document.createElement("script");r.src=n,r.async=!0,r.onload=t,r.onerror=()=>o(new Error(`❌ Failed to load ${e}!`)),document.head.appendChild(r)}),console.log(`✅ ${e} loaded!`),!0}function t(e){e.style.border="2px solid var(--c-text)"}function n(e){e.style.border="2px solid red"}function o(e){for(let n of e)t(n)}function r(e){for(let t of e)n(t)}function l(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function c(e){const t=void 0;return["","ENE","FEB","MAR","ABR","MAY","JUN","JUL","AGO","SEP","OCT","NOV","DIC"][parseInt(date.substring(5,7),10)]}function s(e){const t=void 0;return["","ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMPRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"][parseInt(date.substring(5,7),10)]}function a(e){const t=void 0;return["","01_ENERO","02_FEBRERO","03_MARZO","04_ABRIL","05_MAYO","06_JUNIO","07_JULIO","08_AGOSTO","09_SEPTIEMPRE","10_OCTUBRE","11_NOVIEMBRE","12_DICIEMBRE"][parseInt(date.substring(5,7),10)]}const i=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,defaultBorder:t,defaultBorders:o,errorBorder:n,errorBorders:r,formatMoney:l,formatMonth:c,formatMonth3:s,formatMonthEnum:a},Symbol.toStringTag,{value:"Module"}));function d(e){const t=void 0;document.getElementById("app-script-forms").querySelectorAll(".forms-page").forEach(e=>{e.style.display="none"}),e.style.display="block",document.getElementById("header").scrollIntoView({behavior:"smooth"})}async function u(e,t,n=!0){const o=document.getElementById("page-"+e),r=document.getElementById("page-"+t);if(n)if(t>e){if(!m(o))return await Swal.fire({title:"⚠️ Atención",text:"Por favor, completa todos los campos antes de continuar.",icon:"warning",confirmButtonText:"Aceptar"}),document.getElementById("header").scrollIntoView({behavior:"smooth"}),!1}else{const e=void 0;if((await Swal.fire({title:"⚠️ Atención",text:"Si haces cambios en la sección anterior podrías perder información ya ingresada en esta sección.",icon:"warning",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"})).isDismissed)return!1}return d(r),!0}function m(e){let o=!0;return e.querySelectorAll("input, select, textarea").forEach(e=>{let r=e;e instanceof HTMLSelectElement&&(r=e.closest(".custom-select")),r||(r=e),e.value?t(r):(n(r),o=!1)}),o}function f(e){e.querySelectorAll("input, select, textarea, button").forEach(e=>{e.disabled=!0,e.style.opacity="0.5",e.style.cursor="not-allowed";const t=e.closest(".custom-select");t&&(t.style.pointerEvents="none",t.style.opacity="0.5")})}function p(e){e.querySelectorAll("input, select, textarea, button").forEach(e=>{e.disabled=!1,e.style.opacity="1",e.style.cursor="default";const t=e.closest(".custom-select");t&&(t.style.pointerEvents="auto",t.style.opacity="1")})}const y=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,checkInputs:m,lockInputs:f,nextPage:u,selectPage:d,unlockInputs:p},Symbol.toStringTag,{value:"Module"}));function E(e,t,n=!1,o=!1){let r=t.map(e=>"string"==typeof e?{value:e,text:e}:e);o&&r.sort((e,t)=>e.text.localeCompare(t.text,"es",{numeric:!0})),n?(e.slim||(e.slim=new SlimSelect({select:e,settings:{allowDeselect:!0,searchHighlight:!0,searchPlaceholder:"Busca…",searchText:"No hay resultados",searchingText:"Buscando…",placeholderText:"-- Selecciona --"}})),e.slim.setData(r),e.multiple?e.slim.setSelected([]):(e.selectedIndex=-1,e.slim.setSelected())):(e.innerHTML="<option value=''>-- Selecciona --</option>",r.forEach(t=>{const n=document.createElement("option");n.value=t.value,n.text=t.text,e.appendChild(n)}))}function g(e,t){e.forEach(e=>{e.innerHTML="",e.slim?(console.log(e.slim),e.slim.setData([]),e.slim.settings.placeholderText=t.toUpperCase(),e.slim.setSelected()):e.innerHTML="<option value=''>"+t+"</option>"})}const S=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,clearSelects:g,fillSelect:E},Symbol.toStringTag,{value:"Module"}));function h(e,t){const n=document.getElementById(e),o=document.getElementById(t).content.cloneNode(!0);n.appendChild(o)}function O(e,t){const n=document.getElementById(e),o=document.getElementById(t).content.cloneNode(!0).querySelector("tr"),r=n.rows.length,l=o.querySelector(".row-delete");l&&(0===r?(l.disabled=!0,l.title="Debe contener al menos un registro."):l.addEventListener("click",()=>{I(l)})),n.appendChild(o)}function I(e){e.closest("tr").remove()}const _=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,addHeader:h,addRow:O,removeRow:I},Symbol.toStringTag,{value:"Module"}));function b(e,t){return Math.round(e*10**t)/10**t}function v(e,t){let n=0;t.forEach(e=>{n+=parseFloat(e?.value)||0}),e.innerHTML="TOTAL: "+l(n)}const B=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,round:b,total:v},Symbol.toStringTag,{value:"Module"}));async function M(e,t,n,o=""){"function"!=typeof n&&console.error("404: FUNCTION NOT FOUND");const r=void 0;if(localStorage.getItem("v_"+e)!==t){const r=await n(e,o);return localStorage.setItem("v_"+e,t),localStorage.setItem(e,JSON.stringify(r.tree)),r.tree}return JSON.parse(localStorage.getItem(e))}const w=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,syncVersions:M},Symbol.toStringTag,{value:"Module"}));async function T(){d(document.getElementById("page-1")),await e({name:"SweetAlert2",js:"https://cdn.jsdelivr.net/npm/sweetalert2@11"}),await e({name:"SlimSelect",css:"https://cdn.jsdelivr.net/npm/slim-select@2/dist/slimselect.css",js:"https://cdn.jsdelivr.net/npm/slim-select@2/dist/slimselect.min.js"})}"undefined"!=typeof window&&(window.rammf={nav:y,sel:S,tab:_,math:B,format:i,local:w,init:T}),document.addEventListener("DOMContentLoaded",T);export{T as frameworkOnLoad};
