async function e({name:e,css:t,js:n}){if(t&&!document.querySelector(`link[href*="${t}"]`)){const e=document.createElement("link");e.rel="stylesheet",e.href=t,document.head.appendChild(e)}return n&&!document.querySelector(`script[src*="${n}"]`)&&await new Promise((t,o)=>{const l=document.createElement("script");l.src=n,l.async=!0,l.onload=t,l.onerror=()=>o(new Error(`❌ Failed to load ${e}!`)),document.head.appendChild(l)}),console.log(`✅ ${e} loaded!`),!0}function t(e){e.style.border="2px solid var(--c-text)"}function n(e){e.style.border="2px solid red"}function o(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function l(e){const t=void 0;return["","ENE","FEB","MAR","ABR","MAY","JUN","JUL","AGO","SEP","OCT","NOV","DIC"][parseInt(date.substring(5,7),10)]}function c(e){const t=void 0;return["","ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMPRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"][parseInt(date.substring(5,7),10)]}function r(e){const t=void 0;return["","01_ENERO","02_FEBRERO","03_MARZO","04_ABRIL","05_MAYO","06_JUNIO","07_JULIO","08_AGOSTO","09_SEPTIEMPRE","10_OCTUBRE","11_NOVIEMBRE","12_DICIEMBRE"][parseInt(date.substring(5,7),10)]}const s=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,defaultBorder:t,errorBorder:n,formatMoney:o,formatMonth:l,formatMonth3:c,formatMonthEnum:r},Symbol.toStringTag,{value:"Module"}));function a(e){const t=void 0;document.getElementById("app-script-forms").querySelectorAll(".forms-page").forEach(e=>{e.style.display="none"}),e.style.display="block",document.getElementById("header").scrollIntoView({behavior:"smooth"})}async function i(e,t,n=!0){const o=document.getElementById("page-"+e),l=document.getElementById("page-"+t);if(n)if(t>e){if(!d(o))return await Swal.fire({title:"⚠️ Atención",text:"Por favor, completa todos los campos antes de continuar.",icon:"warning",confirmButtonText:"Aceptar"}),document.getElementById("header").scrollIntoView({behavior:"smooth"}),!1}else{const e=void 0;if((await Swal.fire({title:"⚠️ Atención",text:"Si haces cambios en la sección anterior podrías perder información ya ingresada en esta sección.",icon:"warning",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"})).isDismissed)return!1}return a(l),!0}function d(e){let o=!0;return e.querySelectorAll("input, select, textarea").forEach(e=>{let l=e;e instanceof HTMLSelectElement&&(l=e.closest(".custom-select")),l||(l=e),e.value?t(l):(n(l),o=!1)}),o}function u(e){e.querySelectorAll("input, select, textarea, button").forEach(e=>{e.disabled=!0,e.style.opacity="0.5",e.style.cursor="not-allowed";const t=e.closest(".custom-select");t&&(t.style.pointerEvents="none",t.style.opacity="0.5")})}function m(e){e.querySelectorAll("input, select, textarea, button").forEach(e=>{e.disabled=!1,e.style.opacity="1",e.style.cursor="default";const t=e.closest(".custom-select");t&&(t.style.pointerEvents="auto",t.style.opacity="1")})}const p=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,checkInputs:d,lockInputs:u,nextPage:i,selectPage:a,unlockInputs:m},Symbol.toStringTag,{value:"Module"}));function f(e,t,n=!1,o=!1){let l=t.map(e=>"string"==typeof e?{value:e,text:e}:e);o&&l.sort((e,t)=>e.text.localeCompare(t.text,"es",{numeric:!0})),n?(e.slim||(e.slim=new SlimSelect({select:e,settings:{allowDeselect:!0,searchHighlight:!0,searchPlaceholder:"Busca…",searchText:"No hay resultados",searchingText:"Buscando…",placeholderText:"-- Selecciona --"}})),e.slim.setData(l),e.multiple?e.slim.setSelected([]):(e.selectedIndex=-1,e.slim.setSelected())):(e.innerHTML="<option value=''>-- Selecciona --</option>",l.forEach(t=>{const n=document.createElement("option");n.value=t.value,n.text=t.text,e.appendChild(n)}))}function y(e,t){e.forEach(e=>{e.innerHTML="",e.slim?(console.log(e.slim),e.slim.setData([]),e.slim.settings.placeholderText=t.toUpperCase(),e.slim.setSelected()):e.innerHTML="<option value=''>"+t+"</option>"})}const E=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,clearSelects:y,fillSelect:f},Symbol.toStringTag,{value:"Module"}));function g(e,t){const n=document.getElementById(e),o=document.getElementById(t).content.cloneNode(!0);n.appendChild(o)}function S(e,t){const n=document.getElementById(e),o=document.getElementById(t).content.cloneNode(!0).querySelector("tr"),l=n.rows.length,c=o.querySelector(".row-delete");c&&(0===l?(c.disabled=!0,c.title="Debe contener al menos un registro."):c.addEventListener("click",()=>{h(c)})),n.appendChild(o)}function h(e){e.closest("tr").remove()}const O=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,addHeader:g,addRow:S,removeRow:h},Symbol.toStringTag,{value:"Module"}));function I(e,t){return Math.round(e*10**t)/10**t}function _(e,t){let n=0;t.forEach(e=>{n+=parseFloat(e?.value)||0}),e.innerHTML="TOTAL: "+o(n)}const b=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,round:I,total:_},Symbol.toStringTag,{value:"Module"}));async function v(e,t,n){"function"!=typeof n&&console.error("404: FUNCTION NOT FOUND");const o={};for(const l of e){const e=localStorage.getItem("v_"+l);if(e!==t.catalog){const e=await n(l);localStorage.setItem("v_"+l,t.catalog),localStorage.setItem(l,e)}else o[e]=JSON.parse(localStorage.getItem(e))}return o}const M=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,syncVersions:v},Symbol.toStringTag,{value:"Module"}));async function B(){a(document.getElementById("page-1")),await e({name:"SweetAlert2",js:"https://cdn.jsdelivr.net/npm/sweetalert2@11"}),await e({name:"SlimSelect",css:"https://cdn.jsdelivr.net/npm/slim-select@2/dist/slimselect.css",js:"https://cdn.jsdelivr.net/npm/slim-select@2/dist/slimselect.min.js"})}"undefined"!=typeof window&&(window.rammf={nav:p,sel:E,tab:O,math:b,format:s,local:M,init:B}),document.addEventListener("DOMContentLoaded",B);export{B as frameworkOnLoad};
